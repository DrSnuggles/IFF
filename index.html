<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>IFF by DrSnuggles</title>
	<link href="css/style.css" type="text/css" rel="stylesheet"/>
	<script src="js/dnd.js"></script> <!-- drag n drop your own files -->
	<!-- <script src="js/iff.js" type="module"></script> -->
	<script src="dist/iff.min.js" type="module"></script>
	<style>
		option[disabled] {
			font-style: italic;
		}
	</style>
</head>
<body>
	<!-- top menu -->
	<select id="testselect" oninput="newIFF(this.value)">
		<optgroup label="ILBM">
			<!--
			<option value="tst/ilbm/sp24s.iff">sp24s.iff</option>
			<option value="tst/ilbm/sp_inv.iff">danbos.inv.iff</option>
			<option value="tst/ilbm/spInv28.iff">danbos.inv28.iff</option>
			<option value="tst/ilbm/320x256_SHAM.iff">320x256_SHAM.iff</option>
			-->
			<option value="tst/ilbm/danbos.sham.iff">danbos.sham.iff</option>
			<option value="tst/ilbm/danbos.ham.iff">danbos 16:9</option>
			<option value="tst/ilbm/danbos256.ham.iff">danbos256.ham.iff</option>
			<option value="tst/ilbm/NewTut.Ham">NewTut.Ham</option>
			<option value="tst/ilbm/TutGallery.ham8">TutGallery.ham8</option>
			<option value="tst/ilbm/Tut256.lores">Tut256.lores</option>
			<option value="tst/ilbm/KingTut">KingTut</option>
			<option value="tst/ilbm/Venus">Venus</option>
			<option value="tst/ilbm/Waterfall">Waterfall</option>
			<option value="tst/ilbm/marbles">Marbles 24bpl NoCMAP</option>
			<option value="tst/ilbm/Bird_interlace">Fractal EHB Interlace</option>
			<option value="tst/ilbm/DRAGON.Productivity">DRAGON.Productivity</option>
			<option value="tst/ilbm/TheLook">TheLook CTBL</option>
		</optgroup>
		<optgroup label="8SVX">
			<option value="tst/8svx/terminator">Terminator</option>
			<option value="tst/8svx/terminator_FDC">Terminator FDC</option>
			<option value="tst/8svx/terminator_EDC">Terminator EDC</option>
			<option value="tst/8svx/terminator_ADPCM2">Terminator ADPCM2</option>
			<option value="tst/8svx/terminator_ADPCM3">Terminator ADPCM3</option>
			<option value="tst/8svx/sound3">Sound3</option>
			<option value="tst/8svx/sound3_FDC">Sound3 FDC</option>
			<option value="tst/8svx/sound3_EDC">Sound3 EDC</option>
			<option value="tst/8svx/sound3_ADPCM2">Sound3 ADPCM2</option>
			<option value="tst/8svx/sound3_ADPCM3">Sound3 ADPCM3</option>
			<option value="tst/8svx/Flashback_mono.8svx">Flashback_mono</option>
			<option value="tst/8svx/Flashback_stereo.8svx">Flashback_stereo</option>
			<option value="tst/8svx/Satie-mono.8svx">Satie-mono</option>
			<option value="tst/8svx/Satie-mono_FDPCM-8-4.8svx">Satie-mono_FDPCM-8-4</option>
			<option value="tst/8svx/Satie-mono_EDPCM-8-4.8svx">Satie-mono_EDPCM-8-4</option>
			<option value="tst/8svx/Satie-stereo.8svx">Satie-stereo</option>
			<option value="tst/8svx/Satie-stereo_FDPCM-8-4.8svx">Satie-stereo_FDPCM-8-4</option>
			<option value="tst/8svx/Satie-stereo_EDPCM-8-4.8svx">Satie-stereo_EDPCM-8-4</option>
		</optgroup>
		<optgroup label="16SV">
			<option value="tst/16sv/Bluebird.16sv">Bluebird</option>
			<option value="tst/16sv/Flashback-mono.16sv">Flashback mono</option>
			<option value="tst/16sv/Flashback-stereo.16sv">Flashback stereo</option>
			<option value="tst/16sv/Satie-mono.16sv">Satie-mono</option>
			<option value="tst/16sv/Satie-mono_FDPCM-16-6.16sv" disabled>Satie-mono_FDPCM-16-6</option>
			<option value="tst/16sv/Satie-mono_EDPCM-16-5.16sv" disabled>Satie-mono_EDPCM-16-5</option>
			<option value="tst/16sv/Satie-stereo.16sv">Satie-stereo</option>
			<option value="tst/16sv/Satie-stereo_FDPCM-16-6.16sv" disabled>Satie-stereo_FDPCM-16-6</option>
			<option value="tst/16sv/Satie-stereo_EDPCM-16-5.16sv" disabled>Satie-stereo_EDPCM-16-5</option>
		</optgroup>
		<optgroup label="AIFF">
			<option value="tst/aiff/Flashback-mono_PCM-8.aiff">Flashback-mono_PCM-8</option>
			<option value="tst/aiff/Flashback-mono_PCM-16.aiff">Flashback-mono_PCM-16</option>
			<option value="tst/aiff/Flashback-mono_PCM-24.aiff">Flashback-mono_PCM-24</option>
			<option value="tst/aiff/Flashback-mono_PCM-32.aiff">Flashback-mono_PCM-32</option>
			<option value="tst/aiff/Flashback-stereo_PCM-8.aiff">Flashback-stereo_PCM-8</option>
			<option value="tst/aiff/Flashback-stereo_PCM-16.aiff">Flashback-stereo_PCM-16</option>
			<option value="tst/aiff/Flashback-stereo_PCM-24.aiff">Flashback-stereo_PCM-24</option>
			<option value="tst/aiff/Flashback-stereo_PCM-32.aiff">Flashback-stereo_PCM-32</option>
			<option value="tst/aiff/Satie-mono_PCM-16.aiff">Satie-mono_PCM-16</option>
			<option value="tst/aiff/Satie-mono_PCM-24.aiff">Satie-mono_PCM-24</option>
			<option value="tst/aiff/Satie-mono_PCM-32.aiff">Satie-mono_PCM-32</option>
			<option value="tst/aiff/Satie-stereo_PCM-8.aiff">Satie-stereo_PCM-8</option>
			<option value="tst/aiff/Satie-stereo_PCM-16.aiff">Satie-stereo_PCM-16</option>
			<option value="tst/aiff/Satie-stereo_PCM-24.aiff">Satie-stereo_PCM-24</option>
			<option value="tst/aiff/Satie-stereo_PCM-32.aiff">Satie-stereo_PCM-32</option>
			<option value="tst/aiff/Sinus-stereo.aiff">Sinus Stereo</option>
		</optgroup>
		<optgroup label="AIFF-C">
			<option value="tst/aifc/Satie-mono_A-Law.aifc">Satie-mono_A-Law</option>
			<option value="tst/aifc/Satie-mono_µ-Law.aifc">Satie-mono_µ-Law</option>
			<option value="tst/aifc/Satie-stereo_A-Law.aifc">Satie-stereo_A-Law</option>
			<option value="tst/aifc/Satie-stereo_PCM-16.aifc">Satie-stereo_PCM-16</option>
			<option value="tst/aifc/Satie-stereo_PCM-8.aifc">Satie-stereo_PCM-8</option>
			<option value="tst/aifc/Satie-stereo_µ-Law.aifc">Satie-stereo_µ-Law</option>
		</optgroup>
		<optgroup label="PREFS">
			<option value="tst/prefs/Palette1.prefs">Palette1.prefs</option>
			<option value="tst/prefs/Palette2.prefs">Palette2.prefs</option>
		</optgroup>
	</select>
	<button onclick="newIFF(testselect.value)">Load</button>
	AntiAlias<input type="checkbox" id="cb_alias" onchange="toggleAlias()">
	<input type="checkbox" id="cb_size" onchange="toggleSize()">Original size
	<div id="info">Drop your own files here<br/></div>

	<!-- canvas for ILBM -->
	<canvas id="ILBMcanvas" class="scale"></canvas>

	<!-- how to use -->
	<script>
	function newIFF(v) {	// v can be URL or ArrayBuffer
		info.innerHTML = ''
		let myIFFObject = new IFF(v, ()=> {
			console.log(myIFFObject)

			// now do what you want with it, eg play
			if (myIFFObject.play) {
				myIFFObject.play()

				// you can stop this instance
				/*
				setTimeout(()=>{
					myIFFObject.stop()
				},1000)
				*/
			}

			// or show an image
			if (myIFFObject.show) {
				myIFFObject.show(ILBMcanvas)
			}
		})
	}
	function toggleAlias() {
		(cb_alias.checked) ? ILBMcanvas.classList.add("aa") : ILBMcanvas.classList.remove("aa")
	}
	function toggleSize() {
		(cb_size.checked) ? ILBMcanvas.classList.remove("scale") : ILBMcanvas.classList.add("scale")
	}
	</script>

</body>
</html>
